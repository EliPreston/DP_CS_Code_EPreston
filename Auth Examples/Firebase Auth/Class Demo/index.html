<!DOCTYPE html>
<html>
  <head>
    <title> </title>

    <!-- Compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />
  </head>
  <body>
    <br />
    <br />
    <div class="container">
      <a href="#" class="btn" id="onceBtn">Once</a>
      <div>
        <p>Once Data Display</p>
      </div>

      <input type="text" id="nameIn" name="" placeholder="Input Name" />
      <input type="text" id="foodIn" name="" placeholder="Input Food" />

      <br />
      <br />
      <br />

      <a href="#" class="btn" id="submitBtn">Submit</a>
      <div>
        <p id="">Live Update</p>
      </div>
    </div>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>

    <!--ADDED: COPY OTHER IMPORT AND CHANCE TO DATABASE-->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyDaF1Opv15ml7D15izgxous4CK58mHsP7A",
        authDomain: "dpcs-firebasedemo-42949.firebaseapp.com",
        databaseURL: "https://dpcs-firebasedemo-42949.firebaseio.com",
        projectId: "dpcs-firebasedemo-42949",
        storageBucket: "dpcs-firebasedemo-42949.appspot.com",
        messagingSenderId: "313542347468",
        appId: "1:313542347468:web:587da2cdc612a2eea91069",
        measurementId: "G-F3PS8N9NWG",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
      var database = firebase.database();

      // Event Listeners
      document.getElementById("onceBtn").addEventListener("click", function () {
        alert("once");
      });

      document
        .getElementById("submitBtn")
        .addEventListener("click", function () {
          alert("clicked");
        });

      // Functions worked on in class
      function writeUserData(userId, name, food) {
        data = {
          name: name,
          food: food,
        };

        database.ref("user/" + userId).set(data);
      }
      writeUserData("02", "george", "grapes");
      console.log("success");

      var dataChange = database.ref("user/");

      dataChange.on("value", (snapshot) => {
        const data = snapshot.val();
        console.log(data);
      });

      // ^^^^^^^^^^^^^^^^^^^^^^^^^ \\
      function onChange(snapshot) {
        const data = snapshot.val();
        console.log(data);
      }
    </script>
  </body>
</html>
