<script src="https://www.marvinj.org/releases/marvinj-0.7.js"></script>
<canvas id="canvas" width="500" height="344"></canvas>
<div id="result"></div>
<div id="result2"></div>
<button id="PaintButton">Paint</button>
<canvas id="canvas2" width="500" height="344"></canvas>

<script>
  var canvas = document.getElementById("canvas");
  var canvas2 = document.getElementById("canvas2");

  image = new MarvinImage();
  image.load("https://i.imgur.com/eLZVbQG.png", imageLoaded);

  function imageLoaded() {
    var whitePixels = 0;
    var totalPixels = 0;

    for (var y = 0; y < image.getHeight(); y++) {
      for (var x = 0; x < image.getWidth(); x++) {
        var red = image.getIntComponent0(x, y);
        var green = image.getIntComponent1(x, y);
        var blue = image.getIntComponent2(x, y);
        var alpha = image.getAlphaComponent(x, y);

        // Is white?
        if (red >= 250 && green >= 250 && blue >= 250 && alpha > 0) {
          whitePixels++;
          totalPixels++;
        } else {
          totalPixels++;
        }
      }
    }

    image.draw(canvas);
    image.draw(canvas2);
    console.log(whitePixels, totalPixels);

    document.getElementById("result").innerHTML =
      "white pixels: " + whitePixels;

    document.getElementById("result2").innerHTML =
      "total pixels: " + totalPixels;
  }

  //   image = new MarvinImage();
  //   image.load("https://i.imgur.com/eLZVbQG.png", imageLoaded);

  //   function imageLoaded() {
  //     var whitePixels = 0;
  //     var totalPixels = 0;

  //     for (var y = 0; y < image.getHeight(); y++) {
  //       for (var x = 0; x < image.getWidth(); x++) {
  //         var red = image.getIntComponent0(x, y);
  //         var green = image.getIntComponent1(x, y);
  //         var blue = image.getIntComponent2(x, y);
  //         var alpha = image.getAlphaComponent(x, y);

  //         // Is white?
  //         if (red >= 250 && green >= 250 && blue >= 250 && alpha > 0) {
  //           whitePixels++;
  //           totalPixels++;
  //         } else {
  //           totalPixels++;
  //         }
  //       }
  //     }

  //     console.log(whitePixels, totalPixels);

  //     // image.draw(canvas);

  //     // document.getElementById("result").innerHTML =
  //     //   "white pixels: " + whitePixels;

  //     // document.getElementById("result2").innerHTML =
  //     //   "total pixels: " + totalPixels;
  //   }
</script>
